<div class="document-list-container" [ngClass]="layoutMode">
  <div class="document-list">
    <input type="text" placeholder="Search documents..." (input)="onSearch($event)" />
    <app-upload (fileUploaded)="onFileUploaded($event)" (fileSelected)="onFileSelected($event)"></app-upload>
    <div class="card-container">
      <div *ngFor="let doc of filteredDocuments" class="document-card">
        <div class="card-content">
          <h3 (click)="onSelectDocument(doc.fileUrl)">{{ doc.name }}</h3>
          <p>Size: {{ (doc.size / 1024 / 1024) | number: '1.2-2' }} MB</p>
          <p>Uploaded on: {{ doc.uploadDate.toDate() | date }}</p>
          <div class="tags">
            <span *ngFor="let tag of doc.tags" class="tag">
              {{ tag }} <button (click)="onRemoveTag(doc.id, tag)">x</button>
            </span>
          </div>
          <input type="text" placeholder="Add tag" #tagInput />
          <button (click)="onAddTag(doc.id, tagInput.value); tagInput.value = ''">Add Tag</button>
          <input type="text" placeholder="Share with UID" #shareInput />
          <button (click)="onShareDocument(doc.id, shareInput.value); shareInput.value = ''">Share</button>
          <button (click)="onDeleteDocument(doc.id)">Delete</button>
        </div>
      </div>
    </div>
  </div>

  <ng-container *ngIf="layoutMode === 'split' && selectedDocumentUrl">
    <app-document-viewer [documentUrl]="selectedDocumentUrl"></app-document-viewer>
  </ng-container>
</div>

<app-document-overlay 
  *ngIf="layoutMode === 'overlay' && selectedDocumentUrl"
  [documentUrl]="selectedDocumentUrl"
  (close)="selectedDocumentUrl = null">
</app-document-overlay>

<button *ngIf="isLargeScreen" (click)="toggleLayoutMode()" class="layout-toggle">
  {{ layoutMode === 'overlay' ? 'Switch to Split View' : 'Switch to Overlay View' }}
</button>